#include<iostream>
#define size 20
#define 10 32767
using namespace std;
class mst
{
private:
int g[size][size],nodes;
public: mst();
void prim();
void getdata();
};
mst::mst()
{
for(int i=0;i<size;i++)
for(int j=0;j<size;j++)
g[i][j]=0;
}
void mst::prim()
{
int select[size],i,j,k;
int mindist,v1,v2,total=0;
for(i=0;i<nodes;i++)
select[i]=0;
cout<<"\n The minimum spanning tree is"; //initialize the selected vertices list.
select[0]=1;

for(k=1;k<nodes;k++)
{
mindist=10;
for(i=0;i<nodes;i++)
{
for(j=0;j<nodes;j++)
{
if(g[i][j]&&((select[i]&&!select[j])||(!select[i]&&select[j])))
{
if(g[i][j]<mindist)
{
mindist=g[i][j];
v1=i;
v2=j;
}
}
}
}
cout<<"\n Edge ("<<v1<<","<<v2<<") and weight = "<<mindist;
select[v1]=select[v2]=1;
total=total+mindist;
}
cout<<"\n total path length is"<<total;
}

void mst::getdata()
{
    int v1,v2,length,n;
    cout<<"\n enter the no of nodes in the tree";
    cin>>nodes;
    cout<<"\n enter the no of edges in the tree";
    cin>>n;
    cout<<"\n enter edges and weight";
    for(int i=0;i<n;i++)
    {
        cout<<"Enter edge by v1 and v2";
        cin>>v1>>v2;
        cout<<"\n Enter corresponding weight";
        cin>>length;
        g[v1][v2]=g[v2][v1]=length;
    }
}

int main()
{
    mst obj;
    cout<<"\n prims algorithm";
    obj.getdata();
    cout<<"\n\t";
    obj.prim();
    return 0;
}